## Android Socket 学习

> 网络协议有几层？
>
> IP协议在哪层？
>
> socket是什么鬼？有哪几种？
>
> TCP和UDP协议又在哪层？有什么区别？

#### 网络协议有几层

OSI七层网络模型（从下到上）

1. 物理层(Physical)
2. 数据链路层(Datalink)
3. 网络层(Network)
4. 传输层(Transport)
5. 会话层(Session)
6. 表示层(Presentation)
7. 应用层(Application)

> * 下面四层(物理层，数据链路层，网络层，传输层)主要提供数据传输和交换功能，即以节点到节点的通信为主
> * 第四层作为上下两部分的桥梁，是整个网络体系结构中最关键的部分
> * 上面三层(应用层，表示层，会话层)则以提供用户与应用程序之间的信息和数据处理功能为主
>
> 简言之，下四层主要完成通信子网的功能，上三层主要完成资源子网的功能

#### TCP和UDP协议

TCP(Transmission Control Protocol，传输控制协议)是面向连接的协议，即在收发数据前，都需要与对面简历可靠的连接。（三次握手与四次挥手）

* 三次握手

建立一个TCP连接时，需要客户端和服务端总共发送3个包来确认连接的建立，在Socket变成中，这一过程由客户端执行connect来触发。

* 四次挥手

终止TCP连接，就是指断开一个TCP连接时，需要客户端和服务端总共发送4个包以确认连接的断开。在Socket编程中，这一过程由客户端或服务端任一方执行close 触发。



UDP(User Datagram Protocol)用户数据报协议，非连接的协议，传输数据之前源端和终端不建立连接，当它像传送时就简单地去抓取来自应用程序的数据，并尽可能快地把、她扔到网络上。在发送端，UDP传送数据的速度仅仅是受应用程序生成数据的速度、计算机的能力和传输带宽的限制；在接收端，UDP把每个消息段放在队列中，应用程序每次从队列中读一个消息段。

相比TCP就是无需建立连接，结构简单，但无法保证正确性，容易丢包。



#### Java中对于网络提供的几个关键类

> * InetAddress:
>
>   用于标识网络上的硬件资源
>
> * URL
>
>   统一资源定位符，通过URL可以直接读取或者写入网络上的数据
>
> * Socket和ServerSocket：
>
>   使用TCP协议实现网络通信的 Socket相关的类
>
> * Datagram:
>
>   使用UDP协议，将数据保存在数据报中，通过网络进行通信